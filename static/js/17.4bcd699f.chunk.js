(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[17],{280:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r(0);var a=r(71),s=r(72),n=r(43),l=(r(281),r(5)),c=function(e){var t=e.children;return Object(l.jsxs)("div",{children:[Object(l.jsx)("nav",{children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsx)(n.b,{to:"/groups","aria-label":"groups",children:Object(l.jsx)(a.a,{icon:s.c})})}),Object(l.jsx)("li",{children:Object(l.jsx)(n.b,{to:"/calendar","aria-label":"calendar",children:Object(l.jsx)(a.a,{icon:s.a})})}),Object(l.jsx)("li",{children:Object(l.jsx)(n.b,{to:"/files","aria-label":"files",children:Object(l.jsx)(a.a,{icon:s.d})})}),Object(l.jsx)("li",{children:Object(l.jsx)(n.b,{to:"/account","aria-label":"account",children:Object(l.jsx)(a.a,{icon:s.b})})})]})}),Object(l.jsx)("main",{children:t})]})}},281:function(e,t,r){},396:function(e,t,r){"use strict";r.r(t);var a=r(0),s=r(280),n=r(12),l=r(21),c=r(71),i=r(72),o=r(356),d=r(219),u=r(325),j=r(326),b=r(264),h=r(8),x=r.n(h),p=r(16),O=r(17),m=r(52),v=r(275),f=r(258),w=r(277),y=r(270),g=r(361),P=r(271),C=r(73),R=r(5),S=function(){var e,t,r,s=Object(C.b)({mode:"all",shouldUnregister:!1}),n=s.handleSubmit,c=s.errors,i=s.register,u=Object(a.useState)(null),j=Object(O.a)(u,2),h=j[0],S=j[1],k=(Object(a.useContext)(l.a).url,Object(a.useState)(!1)),q=Object(O.a)(k,2),W=q[0],T=q[1],V=Object(a.useState)(2),A=Object(O.a)(V,2),N=A[0],U=A[1],I=function(){var e=Object(p.a)(x.a.mark((function e(t){var r,a,s,n,l,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.username,s=t.password,T(!0),e.prev=2,e.next=5,Object(m.b)("/register","POST",{email:r,username:a,password:s,role:N});case 5:n=e.sent,S({status:"success",text:n.data}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.error)?S({status:"error",text:e.t0.response.data.error}):S({status:"error",text:e.t0.message}),console.error(e.t0);case 13:T(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsxs)("form",{onSubmit:n(I),style:{width:"100%"},children:[Object(R.jsx)(o.a,{py:2,children:Object(R.jsx)(d.a,{variant:"h5",component:"h2",children:"Create new account"})}),Object(R.jsx)(o.a,{py:1,children:Object(R.jsx)(v.a,{name:"username",label:"username",type:"text",variant:"outlined",defaultValue:"",fullWidth:!0,inputRef:i({required:"Required"}),error:!!c.username,helperText:null===(e=c.username)||void 0===e?void 0:e.message})}),Object(R.jsx)(o.a,{py:1,children:Object(R.jsx)(v.a,{name:"email",label:"email",type:"email",variant:"outlined",autoComplete:"email",fullWidth:!0,defaultValue:"",inputRef:i({required:"Required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"invalid email address"}}),error:!!c.email,helperText:null===(t=c.email)||void 0===t?void 0:t.message})}),Object(R.jsx)(o.a,{py:1,children:Object(R.jsx)(v.a,{className:"password",name:"password",label:"password",type:"password",variant:"outlined",defaultValue:"",fullWidth:!0,inputRef:i({required:"Required"}),error:!!c.password,helperText:null===(r=c.password)||void 0===r?void 0:r.message})}),Object(R.jsx)(o.a,{py:1,children:Object(R.jsxs)(f.a,{fullWidth:!0,variant:"outlined",children:[Object(R.jsx)(w.a,{htmlFor:"role",children:"Role"}),Object(R.jsxs)(y.a,{value:N,variant:"outlined",label:"role",name:"role",id:"role",onChange:function(e){return U(e.target.value)},children:[Object(R.jsx)(g.a,{value:2,selected:!0,children:"User"}),Object(R.jsx)(g.a,{value:1,children:"Menager"}),Object(R.jsx)(g.a,{value:0,children:"Admin"})]})]})}),h?Object(R.jsx)(o.a,{py:1,children:Object(R.jsx)(P.a,{className:"alert",severity:h.status,children:h.text})}):null,Object(R.jsx)(o.a,{py:1,children:Object(R.jsxs)(b.a,{variant:"contained",color:"primary",type:"submit",value:"add user",fullWidth:!0,children:["create account ",W?"...":null]})})]})},k=function(){var e,t,r=Object(C.b)({mode:"all",shouldUnregister:!1}),s=r.handleSubmit,n=r.errors,c=r.register,i=(Object(a.useContext)(l.a).url,Object(a.useState)(null)),u=Object(O.a)(i,2),j=u[0],h=u[1],f=Object(a.useState)(!1),w=Object(O.a)(f,2),y=w[0],g=w[1],S=function(){var e=Object(p.a)(x.a.mark((function e(t){var r,a,s,n,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.oldPassword,a=t.newPassword,g(!0),e.prev=2,e.next=5,Object(m.b)("resetPassword","POST",{oldPassword:r,newPassword:a});case 5:s=e.sent,h({status:"success",text:s.data}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.error)?h({status:"error",text:e.t0.response.data.error}):h({status:"error",text:e.t0.message}),console.error(e.t0);case 13:g(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsxs)("form",{onSubmit:s(S),style:{width:"100%"},children:[Object(R.jsx)(o.a,{py:2,children:Object(R.jsx)(d.a,{variant:"h5",component:"h2",children:"Reset password"})}),Object(R.jsx)(o.a,{py:1,children:Object(R.jsx)(v.a,{name:"oldPassword",label:"old password",type:"password",variant:"outlined",autoComplete:"current-password",defaultValue:"",fullWidth:!0,inputRef:c({required:"Required"}),error:!!n.oldPassword,helperText:null===(e=n.oldPassword)||void 0===e?void 0:e.message})}),Object(R.jsx)(o.a,{py:1,children:Object(R.jsx)(v.a,{name:"newPassword",label:"new password",type:"password",variant:"outlined",defaultValue:"",fullWidth:!0,inputRef:c({required:"Required"}),error:!!n.newPassword,helperText:null===(t=n.newPassword)||void 0===t?void 0:t.message})}),j?Object(R.jsx)(o.a,{py:1,children:Object(R.jsx)(P.a,{className:"alert",severity:j.status,children:j.text})}):null,Object(R.jsx)(o.a,{py:1,children:Object(R.jsxs)(b.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:["reset password ",y?"...":null]})})]})};t.default=function(){var e=Object(n.f)(),t=Object(a.useContext)(l.a),r=t.setTheme,h=t.theme,x=t.user;return Object(R.jsx)(s.a,{children:Object(R.jsxs)(o.a,{className:"account",display:"flex",flexDirection:"column",alignItems:"center",children:[Object(R.jsx)(o.a,{p:2,children:Object(R.jsxs)(d.a,{variant:"h3",component:"h1",children:["Welcome, ",null===x||void 0===x?void 0:x.username]})}),Object(R.jsxs)(o.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"start",width:"100%",children:[0!==parseInt(null===x||void 0===x?void 0:x.role)?null:Object(R.jsx)(o.a,{p:4,display:"flex",width:"50%",justifyContent:"center",children:Object(R.jsx)(S,{})}),Object(R.jsx)(o.a,{p:4,display:"flex",width:"50%",justifyContent:"center",children:Object(R.jsx)(k,{})})]}),Object(R.jsx)(o.a,{m:4,children:Object(R.jsx)(u.a,{control:Object(R.jsx)(j.a,{onChange:function(){return r("light"===h?"dark":"light")},checked:"light"!==h}),label:"Dark theme"})}),Object(R.jsx)(o.a,{m:4,children:Object(R.jsxs)(b.a,{variant:"contained",color:"primary",onClick:function(){return e.push("/logout")},children:["LOGOUT",Object(R.jsx)(o.a,{ml:2,children:Object(R.jsx)(c.a,{icon:i.g})})]})})]})})}}}]);
//# sourceMappingURL=17.4bcd699f.chunk.js.map